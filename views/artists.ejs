<%- include('partials/header') %>

<main class="container">
    <h1 class="page-title">Popular Artists</h1>
    
    <div style="margin-bottom: 30px; text-align: center;">
        <input type="text" id="searchInput" onkeyup="filterArtists()" placeholder="Search artists..." 
        style="padding: 12px; width: 80%; max-width: 400px; border: 1px solid #ccc; border-radius: 25px; outline: none; font-size: 16px;">
    </div>

    <div id="artists-container" class="events-grid">
        
        <% if (artists.length > 0) { %>
            <% artists.forEach(artist => { %>
                
                <div class="event-card" style="text-align: center;">
                    
                    <div class="event-card-image">
                        <img src="<%= artist.image %>" alt="<%= artist.title %>">
                    </div>
                    
                    <div class="event-details" style="flex-grow: 1;">
                        <h3 style="margin-top: 15px;"><%= artist.title %></h3>
                    </div>

                    <div class="event-action">
                        <a href="#" class="btn-standard" style="background-color: #28a745; color: white;">
                            <%= artist.price %> </a>
                    </div>
                </div>

            <% }) %>
        <% } else { %>
            <p>No artists found.</p>
        <% } %>

    </div>
    
    <a href="#" class="view-all-btn" style="background: linear-gradient(45deg, #c039d9, #e35dbe); border: none; margin-top: 30px;">
        Explore More Artists
    </a>

</main>

<script>
    function filterArtists() {
        const input = document.getElementById('searchInput');
        const filter = input.value.toUpperCase();
        const container = document.getElementById('artists-container');
        const cards = container.getElementsByClassName('event-card');

        for (let i = 0; i < cards.length; i++) {
            const text = cards[i].textContent || cards[i].innerText;
            if (text.toUpperCase().indexOf(filter) > -1) {
                cards[i].style.display = "";
            } else {
                cards[i].style.display = "none";
            }
        }
    }
</script>

<%- include('partials/footer') %>